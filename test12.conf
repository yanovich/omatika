%YAML 1.1
---
modules:
 - backplane :
    - 87015P :
       - 
       - 
       - 
       - 
       - ni1000 tk5000
       - ni1000 tk5000
       - ni1000 tk5000
    - 87017 :
       - 
       - 0-16 bar 4-20 mA
       - 0-16 bar 4-20 mA
    - 8041
    - 87040
processes :
 - heating :
    setpoints :
     feed : 950
     flowback : 700
     street : -280
     inside : 270
     stop: -40
    IO :
     feed : tr:1:1:5
     flowback : tr:1:1:6
     street : tr:1:1:7
    valve :
     2way :
      setpoints :
       min : 50
       max : 5000
       total : 70000
      IO :
       close : do:1:3:3
       open : do:1:3:4
       fully open : ds:1:0:0
       manual : di:1:4:21
       remote manual : di:1:4:1
    fuzzy :
     - {v: 0, f: Z, a: -1500, b: -50, c:  -30} : {f: A, a:   400, b:  7000, c: 7000}
     - {v: 0, f: A, a:   -50, b: -30, c:  -10} : {f: A, a:   100, b:   400, c:  700}
     - {v: 0, f: A, a:   -30, b: -10, c:   00} : {f: A, a:     0, b:   100, c:  200}
     - {v: 0, f: A, a:   -10, b:   0, c:   30} : {f: A, a:  -300, b:     0, c:  300}
     - {v: 0, f: A, a:    00, b:  30, c:   80} : {f: A, a:  -200, b:  -100, c:    0}
     - {v: 0, f: A, a:    30, b:  80, c:  180} : {f: A, a:  -700, b:  -400, c: -100}
     - {v: 0, f: S, a:    80, b: 180, c: 1500} : {f: A, a: -7000, b: -7000, c: -400}
     - {v: 1, f: Z, a: -1500, b: -30, c:  -10} : {f: A, a:   400, b:  7000, c: 7000}
     - {v: 1, f: A, a:   -30, b: -10, c:   -1} : {f: A, a:   100, b:   400, c:  700}
     - {v: 1, f: A, a:     1, b:  10, c:   30} : {f: A, a:  -700, b:  -400, c: -100}
     - {v: 1, f: S, a:    10, b:  30, c: 1500} : {f: A, a: -7000, b: -7000, c: -400}
 - cascade :
    IO :
     motor : do:1:3:5
 - cascade :
    interval : 200
    setpoints :
     stage : 150
     stage wait : 300
     unstage : 300
     unstage wait : 3000
    IO :
     remote manual : di:1:4:1
     manual : di:1:4:21
     entry : ai:1:2:2
     feed : ai:1:2:3
     power : di:1:4:22
     motor : do:1:3:7
     motor : do:1:3:8
 - cascade :
    setpoints :
     stage wait : 30
     unstage wait : 60
    IO :
     manual : di:1:4:21
     feed : ds:1:0:0
     motor : do:1:3:9
     motor : do:1:3:10
