%YAML 1.1
---
options:
 tick : 1000
blocks :
 - i-87015 :
    name : slot1
    setpoints:
     slot: 1
 - i-8042 :
    name : slot2
    setpoints:
     slot: 2
 - i-8042 :
    name : slot4
    setpoints:
     slot: 4
 - ni1000tk5000 :
    name : T21
    input : slot1.ai3
 - PD :
    name : T21_error
    input : T21
    setpoint : 570
 - fuzzy if z:
    name : T21 is very cold
    input : T21_error.error
    setpoints:              {         b: -50, c: -30 }
 - fuzzy if d:
    name : T21 is cold
    input : T21_error.error
    setpoints:              { a: -50, b: -30, c: -10 }
 - fuzzy if d:
    name : T21 is cool
    input : T21_error.error
    setpoints:              { a: -30, b: -10, c:   0 }
 - fuzzy if d:
    name : T21 is normal
    input : T21_error.error
    setpoints:              { a: -10, b:   0, c:  30 }
 - fuzzy if d:
    name : T21 is warm
    input : T21_error.error
    setpoints:              { a:   0, b:  30, c:  80 }
 - fuzzy if d:
    name : T21 is hot
    input : T21_error.error
    setpoints:              { a:  30, b:  80, c: 180 }
 - fuzzy if s:
    name : T21 is very hot
    input : T21_error.error
    setpoints:              { a:  80, b: 180         }

 - fuzzy if z:
    name : T21 is very cold
    input : T21_error.error
    setpoints:              {         b: -30, c: -10 }
 - fuzzy if d:
    name : T21 is warm
    input : T21_error.error
    setpoints:              { a: -30, b: -10, c:  -1 }
 - fuzzy if d:
    name : T21 is hot
    input : T21_error.error
    setpoints:              { a:   1, b:  10, c:  30 }
 - fuzzy if s:
    name : T21 is very hot
    input : T21_error.error
    setpoints:              { a:  10, b:  30         }

 - ni1000tk5000 :
    name : T11
    input : slot1.ai0
 - ni1000tk5000 :
    name : T12
    input : slot1.ai1
 - ni1000tk5000 :
    name : T
    input : slot1.ai4
 - log :
    inputs :
     T : T
     T11 : T11
     T12 : T12
     T21 : T21
     T21E : T21_error.error
     T21D : T21_error.diff
