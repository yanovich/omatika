%YAML 1.1
---
modules:
 - backplane :
    - 8041
    - 87017 :
      - 0-13 bar 4-20 mA
      - direct
      - direct
      - 0-13 bar 4-20 mA
      - direct
      - direct
    - 8024
    - 8024
    - 8024
    - 87040
    - 87015P :
      - pt1000
      - pt1000
      - pt1000
      - pt1000
      - pt1000
      - pt1000
      - pt1000
processes :
 - cascade :
    IO :
     motor : do:1:1:1
 - relay :
    interval : 200
    IO :
     unblock : di:1:6:9
     no : do:1:1:10
 - relay :
    interval : 200
    IO :
     unblock : di:1:6:14
     no : do:1:1:16
 - relay :
    interval : 200
    IO :
     unblock : di:1:6:19
     no : do:1:1:21
 - relay :
    interval : 200
    IO :
     unblock : di:1:6:24
     no : do:1:1:26
 - relay :
    interval : 200
    setpoints :
     delay : 10
    IO :
     unblock : di:1:6:7
     unblock : di:1:6:5
     unblock : di:1:6:12
     unblock : di:1:6:17
     no : do:1:1:4
 - relay :
    interval : 200
    setpoints :
     delay : 30
    IO :
     unblock : di:1:6:7
     unblock : di:1:6:5
     unblock : di:1:6:22
     unblock : di:1:6:27
     no : do:1:1:5
 - counter :
    interval : 200
    IO :
     feed : di:1:6:32
 - evaporation :
    interval : 2000
    setpoints :
     overheat : 40
     min overheat : 20
     pressure sensor low : 4086
     pressure sensor high : 20429
     pressure low : 0
     pressure high : 13000
    IO :
     temperature : tr:1:7:4
     pressure : ai:1:2:3
     safety : do:1:1:12
    valve :
     analog :
      setpoints :
       pos : 8000
       low : 0
       high : 8000
      IO :
       output : ao:1:3:3
    fuzzy :
     - {v: 0, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -200, b:  -100, c:    0}
     - {v: 0, f: A, a:   -15, b: -10, c:    0} : {f: A, a:  -100, b:   -50, c:    0}
     - {v: 0, f: A, a:   -10, b:   0, c:   10} : {f: A, a:   -50, b:     0, c:   50}
     - {v: 0, f: A, a:     0, b:  10, c:   15} : {f: A, a:     0, b:    50, c:  100}
     - {v: 0, f: S, a:    10, b:  20, c:   30} : {f: A, a:     0, b:   100, c:  200}
     - {v: 1, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -180, b:  -100, c:  -20}
     - {v: 1, f: A, a:   -15, b: -10, c:   -2} : {f: A, a:   -90, b:   -50, c:  -10}
     - {v: 1, f: A, a:     2, b:  10, c:   15} : {f: A, a:    10, b:    50, c:   90}
     - {v: 1, f: S, a:    10, b:  20, c:   30} : {f: A, a:    20, b:   100, c:  180}
 - evaporation :
    interval : 2000
    setpoints :
     overheat : 40
     min overheat : 20
     pressure sensor low : 4086
     pressure sensor high : 20429
     pressure low : 0
     pressure high : 13000
    IO :
     temperature : tr:1:7:5
     pressure : ai:1:2:3
     safety : do:1:1:18
    valve :
     analog :
      setpoints :
       pos : 8000
       low : 0
       high : 8000
      IO :
       output : ao:1:4:1
    fuzzy :
     - {v: 0, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -200, b:  -100, c:    0}
     - {v: 0, f: A, a:   -15, b: -10, c:    0} : {f: A, a:  -100, b:   -50, c:    0}
     - {v: 0, f: A, a:   -10, b:   0, c:   10} : {f: A, a:   -50, b:     0, c:   50}
     - {v: 0, f: A, a:     0, b:  10, c:   15} : {f: A, a:     0, b:    50, c:  100}
     - {v: 0, f: S, a:    10, b:  20, c:   30} : {f: A, a:     0, b:   100, c:  200}
     - {v: 1, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -180, b:  -100, c:  -20}
     - {v: 1, f: A, a:   -15, b: -10, c:   -2} : {f: A, a:   -90, b:   -50, c:  -10}
     - {v: 1, f: A, a:     2, b:  10, c:   15} : {f: A, a:    10, b:    50, c:   90}
     - {v: 1, f: S, a:    10, b:  20, c:   30} : {f: A, a:    20, b:   100, c:  180}
 - evaporation :
    interval : 2000
    setpoints :
     overheat : 40
     min overheat : 20
     pressure sensor low : 4086
     pressure sensor high : 20429
     pressure low : 0
     pressure high : 13000
    IO :
     temperature : tr:1:7:6
     pressure : ai:1:2:6
     safety : do:1:1:23
    valve :
     analog :
      setpoints :
       pos : 8000
       low : 0
       high : 8000
      IO :
       output : ao:1:4:3
    fuzzy :
     - {v: 0, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -200, b:  -100, c:    0}
     - {v: 0, f: A, a:   -15, b: -10, c:    0} : {f: A, a:  -100, b:   -50, c:    0}
     - {v: 0, f: A, a:   -10, b:   0, c:   10} : {f: A, a:   -50, b:     0, c:   50}
     - {v: 0, f: A, a:     0, b:  10, c:   15} : {f: A, a:     0, b:    50, c:  100}
     - {v: 0, f: S, a:    10, b:  20, c:   30} : {f: A, a:     0, b:   100, c:  200}
     - {v: 1, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -180, b:  -100, c:  -20}
     - {v: 1, f: A, a:   -15, b: -10, c:   -2} : {f: A, a:   -90, b:   -50, c:  -10}
     - {v: 1, f: A, a:     2, b:  10, c:   15} : {f: A, a:    10, b:    50, c:   90}
     - {v: 1, f: S, a:    10, b:  20, c:   30} : {f: A, a:    20, b:   100, c:  180}
 - evaporation :
    interval : 2000
    setpoints :
     overheat : 40
     min overheat : 20
     pressure sensor low : 4086
     pressure sensor high : 20429
     pressure low : 0
     pressure high : 13000
    IO :
     temperature : tr:1:7:7
     pressure : ai:1:2:6
     safety : do:1:1:28
    valve :
     analog :
      setpoints :
       pos : 8000
       low : 0
       high : 8000
      IO :
       output : ao:1:5:1
    fuzzy :
     - {v: 0, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -200, b:  -100, c:    0}
     - {v: 0, f: A, a:   -15, b: -10, c:    0} : {f: A, a:  -100, b:   -50, c:    0}
     - {v: 0, f: A, a:   -10, b:   0, c:   10} : {f: A, a:   -50, b:     0, c:   50}
     - {v: 0, f: A, a:     0, b:  10, c:   15} : {f: A, a:     0, b:    50, c:  100}
     - {v: 0, f: S, a:    10, b:  20, c:   30} : {f: A, a:     0, b:   100, c:  200}
     - {v: 1, f: Z, a:   -30, b: -20, c:  -10} : {f: A, a:  -180, b:  -100, c:  -20}
     - {v: 1, f: A, a:   -15, b: -10, c:   -2} : {f: A, a:   -90, b:   -50, c:  -10}
     - {v: 1, f: A, a:     2, b:  10, c:   15} : {f: A, a:    10, b:    50, c:   90}
     - {v: 1, f: S, a:    10, b:  20, c:   30} : {f: A, a:    20, b:   100, c:  180}
 - hot water :
    setpoints :
     feed : 12500
    IO :
     feed : ai:1:2:2
    valve :
     analog :
      setpoints :
       pos : 0
       low : 0
       high : 8000
      IO :
       output : ao:1:3:4
    fuzzy :
     - {v: 0, f: Z, a: -1500, b: -500, c: -250} : {f: A, a:  -700, b:  -350, c:    0}
     - {v: 0, f: A, a:  -500, b: -250, c:    0} : {f: A, a:   -60, b:   -30, c:    0}
     - {v: 0, f: A, a:  -250, b:    0, c:  250} : {f: A, a:   -40, b:     0, c:   40}
     - {v: 0, f: A, a:     0, b:  250, c:  500} : {f: A, a:     0, b:    30, c:   60}
     - {v: 0, f: S, a:   250, b:  500, c: 1500} : {f: A, a:     0, b:   350, c:  700}
     - {v: 1, f: Z, a: -1500, b: -500, c: -250} : {f: A, a:  -800, b:  -400, c:    0}
     - {v: 1, f: A, a:  -500, b: -350, c: -200} : {f: A, a:   -80, b:   -40, c:    0}
     - {v: 1, f: A, a:   200, b:  350, c:  500} : {f: A, a:     0, b:    40, c:   80}
     - {v: 1, f: S, a:   250, b:  500, c: 1500} : {f: A, a:     0, b:   400, c:  800}
 - hot water :
    setpoints :
     feed : 12500
    IO :
     feed : ai:1:2:5
    valve :
     analog :
      setpoints :
       pos : 0
       low : 0
       high : 8000
      IO :
       output : ao:1:4:4
    fuzzy :
     - {v: 0, f: Z, a: -1500, b: -500, c: -250} : {f: A, a:  -700, b:  -350, c:    0}
     - {v: 0, f: A, a:  -500, b: -250, c:    0} : {f: A, a:   -60, b:   -30, c:    0}
     - {v: 0, f: A, a:  -250, b:    0, c:  250} : {f: A, a:   -40, b:     0, c:   40}
     - {v: 0, f: A, a:     0, b:  250, c:  500} : {f: A, a:     0, b:    30, c:   60}
     - {v: 0, f: S, a:   250, b:  500, c: 1500} : {f: A, a:     0, b:   350, c:  700}
     - {v: 1, f: Z, a: -1500, b: -500, c: -250} : {f: A, a:  -800, b:  -400, c:    0}
     - {v: 1, f: A, a:  -500, b: -350, c: -200} : {f: A, a:   -80, b:   -40, c:    0}
     - {v: 1, f: A, a:   200, b:  350, c:  500} : {f: A, a:     0, b:    40, c:   80}
     - {v: 1, f: S, a:   250, b:  500, c: 1500} : {f: A, a:     0, b:   400, c:  800}
